version: '3.2'

services:
  apache-php56:
    build: './apache-php56'
    container_name: lampp-apache
    volumes:
      - ${HOST_PATH_HTTPD_DATADIR}:/var/www/html/
      - ./php56/docker-php-ext-xdebug.ini:/usr/local/etc/php/conf.d/zcustom-xdebug.ini
    ports:
      # ---- Format: ----
      # [HOST-ADDR : ] HOST-PORT : DOCKER-PORT
      # - "${LOCAL_LISTEN_ADDR}${HOST_PORT_HTTPD}:80"
      - "${LOCAL_LISTEN_ADDR}81:80"
      # - "${LOCAL_LISTEN_ADDR}443:443"
      # - "${LOCAL_LISTEN_ADDR}8080:8080"
    
    # networks:
    #   - backend
    #   - frontend
    environment:
      ##
      ## UserID and GroupID
      ##
      - NEW_UID
      - NEW_GID

  mysql:
    image: mysql:5.6.40
    # networks:
    #   - backend
    environment:
      - MYSQL_ROOT_PASSWORD
    ports:
      - "${LOCAL_LISTEN_ADDR}${HOST_PORT_MYSQL}:3306"
    volumes:
      - ${HOST_MYSQL_DATADIR}:/var/lib/mysql

  mongo:
    image: mongo:3.6.17
    # networks:
    #   - backend
    ports:
      - "${LOCAL_LISTEN_ADDR}${HOST_PORT_MONGO}:27017"
    volumes:
      - ${HOST_MONGO_DATADIR}:/data/db
      #- ${DATA_PATH_HOST}/mongo_config:/data/configdb

  # networks:
  #   frontend:
  #   backend:
